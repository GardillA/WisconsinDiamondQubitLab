#:kivy 1.0
#:import utils kivy.utils

<PanelSection>:
    spacing: 7
    padding: 10
    canvas:
        Color:
            rgb: utils.get_color_from_hex("#2c2f33")
        Rectangle:
            pos: self.pos
            size: self.size
            
<PanelSectionHeading>:
    orientation: "vertical"

<PanelSubsection>:
    orientation: "vertical"
    padding: 2
    canvas:
        Color:
            rgb: utils.get_color_from_hex("#536872")
        Line:
            width: 2
            rectangle: self.x, self.y, self.width, self.height
            
<ShortButton>:
    size_hint: 1.0, None
    height: 1.5 * self.texture_size[1]
    
<ParameterGrid>:
    size_hint_y: None
    height: self.minimum_height
    row_default_height: 30
    row_force_default: True
    cols: 2

<ControlPanel2>:
    do_default_tab: False

    TabbedPanelItem:
        text: "Main"
        
        BoxLayout:
            orientation: "vertical"
        
            PanelSection:
            
                PanelSubsection:
                
                    Label:
                        text: "Galvo Sweep"
                        
                    ParameterGrid:
                    
                        Label:
                            text: "Samples (list(int))"
                        TextInput:
                            id: samplesInput
                            text: "100, 100"
                        
                        Label:
                            text: "Resolution (float)"
                        TextInput:
                            id: resolutionInput
                            text: "0.01"
                    
                        Label:
                            text: "Period (sec, float)"
                        TextInput:
                            id: periodInput
                            text: "0.25"
                        
                        Label:
                            text: "Offset (list(float))"
                        TextInput:
                            id: offsetInput
                            text: "-0.5, -0.5"
                        
                        Label:
                            text: "Initial (list(float))"
                        TextInput:
                            id: initialInput
                            text: "0.0, 0.0"
                            
                    Button:
                        text: "Run!"
                        on_press: root.galvo_sweep()
            
                PanelSubsection:
                
                    Label:
                        text: "PulseStreamer All Zero"
                            
                    Button:
                        text: "Run!"
                        on_press: root.pulser_all_zero
                
                PanelSubsection:
                
                    Label:
                        text: "PulseStreamer Square Wave"
                        
                    ParameterGrid:
                    
                        Label:
                            text: "Period (sec, float)"
                        TextInput:
                            id: periodInput2
                            text: "0.25"
                            
                    Button:
                        text: "Run!"
                        on_press: root.pulser_square_wave
                 
                BoxLayout:
        
            BoxLayout:
            
            BoxLayout:
        
    TabbedPanelItem:
        text: "Configuration"
        
        BoxLayout:
            orientation: "vertical"
        
            PanelSection:
            
                PanelSubsection:
                    Label:
                        text: "DAQ Wiring"
                        
                    ParameterGrid:
                        
                        Label:
                            text: "PulseStreamer DI"
                        TextInput:
                            text: "0"
                        
                        Label:
                            text: "Galvo X AO"
                        TextInput:
                            text: daqGalvoXAOStr
                        
                        Label:
                            text: "Galvo Y AO"
                        TextInput:
                            text: "1"
            
                PanelSubsection:
                    Label:
                        text: "PulseStreamer Wiring"
                        
                    ParameterGrid:
                        
                        Label:
                            text: "DAQ DO"
                        TextInput:
                            text: "0"
                
                BoxLayout:
                
                BoxLayout:
            
            BoxLayout:
            
            BoxLayout: